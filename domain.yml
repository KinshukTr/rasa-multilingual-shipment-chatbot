version: "3.1"

intents:
  - greet
  - goodbye
  - track_shipment
  - delivery_delay_issue
  - provide_awb_number
  # - provide_pincode
  - rate_experience
  - end_conversation
  - show_offers
  - cancel_shipment
  - choose_language
  # - recommend_movie
  # - inform_actor
  # - tell_weather
  # - ask_city  
  # - inform_actor+ask_city
  # - ask_date
  # - ask_time
  # - ask_llama


entities:
  - awb_number
  # - pincode
  - rating_value
  - language1
  # - actor
  # - city

slots:
  awb_number:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: awb_number
      - type: from_text
        conditions:
          - active_loop: awb_form
            requested_slot: awb_number
        intent: provide_awb_number
    
  language:
    type: text
    influence_conversation: false
    mappings:
      - type: custom
  
  language1:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: language1
  # pincode:
  #   type: text
  #   influence_conversation: false
  #   mappings:
  #      - type: from_entity
  #        entity: pincode

  rating_value:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: rating_value
  
forms:
  awb_form:
    required_slots:
      - awb_number
  # actor:
  #   type: text
  #   influence_conversation: true
  #   mappings:
  #     - type: from_entity
  #       entity: actor

  # city:
  #   type: text
  #   influence_conversation: true
  #   mappings:
  #     - type: from_entity
  #       entity: city

responses:
  
  utter_greet_language_prompt:
  - text: "ЁЯМР Welcome! (рд╕реНрд╡рд╛рдЧрдд рд╣реИ!) ЁЯЩП \nPlease select your preferred language to continue.\nрдХреГрдкрдпрд╛ рдЖрдЧреЗ рдмрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдкрдиреА рдкрд╕рдВрджреАрджрд╛ рднрд╛рд╖рд╛ рдЪреБрдиреЗрдВред"
    buttons:
      - title: "English"
        payload: '/choose_language{"language1": "english"}'
      - title: "рд╣рд┐рдВрджреА (Hindi)"
        payload: '/choose_language{"language1": "hindi"}'

  utter_greet:
    - condition:
      - type: slot
        name: language1
        value: english
      text: "Hi! I can help you with shipment-related tasks. What would you like to do?"
      buttons:
        - title: "ЁЯУж Track Shipment"
          payload: /track_shipment
        - title: "ЁЯЪЪ Report Delay"
          payload: /delivery_delay_issue
        - title: "ЁЯОБ Offers"
          payload: /show_offers 
        - title: "тЭМ Cancel Shipment"
          payload: /cancel_shipment   
        # - title: "ЁЯУд Schedule Pickup"
        #   payload: /pickup_request
        # - title: "тЭМ Cancel Shipment"
        #   payload: /cancel_shipment
        # - title: "тЬЕ Confirm Delivery"
        #   payload: /delivery_confirmation
        # - title: "тЬПя╕П Change Delivery PIN"
        #   payload: /change_delivery_pincode
    - condition:
      - type: slot
        name: language1
        value: hindi
      text: "рдирдорд╕реНрдХрд╛рд░! рдореИрдВ рдЖрдкрдХреЛ рд╢рд┐рдкрдореЗрдВрдЯ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдХрд╛рд░реНрдпреЛрдВ рдореЗрдВ рдорджрдж рдХрд░ рд╕рдХрддрд╛ рд╣реВрдБред рдХреГрдкрдпрд╛ рдмрддрд╛рдПрдВ, рдЖрдк рдХреНрдпрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣реЗрдВрдЧреЗ?"    
      buttons:
        - title: "ЁЯУж рд╢рд┐рдкрдореЗрдВрдЯ рдЯреНрд░реИрдХ рдХрд░реЗрдВ"
          payload: /track_shipment
        - title: "ЁЯЪЪ рдбрд┐рд▓реАрд╡рд░реА рдореЗрдВ рджреЗрд░реА рд░рд┐рдкреЛрд░реНрдЯ рдХрд░реЗрдВ"
          payload: /delivery_delay_issue
        - title: "ЁЯОБ рдСрдлрд╝рд░ рджреЗрдЦреЗрдВ"
          payload: /show_offers
        - title: "тЭМ рд╢рд┐рдкрдореЗрдВрдЯ рд░рджреНрдж рдХрд░реЗрдВ"
          payload: /cancel_shipment
  utter_main_menu:
    - condition:
      - type: slot
        name: language1
        value: english
      text: "Is there anything else I can help you with?"
      buttons:
        - title: "ЁЯУж Track Shipment"
          payload: /track_shipment
        - title: "ЁЯЪЪ Report Delay"
          payload: /delivery_delay_issue
        - title: "ЁЯОБ Offers"
          payload: /show_offers   
        - title: "тЭМ Cancel Shipment"
          payload: /cancel_shipment  
        - title: "No, I'm good"
          payload: /end_conversation
    - condition:
      - type: slot
        name: language1
        value: hindi
      text: "рдХреНрдпрд╛ рдореИрдВ рдЖрдкрдХреА рдХрд┐рд╕реА рдФрд░ рдЪреАрдЬрд╝ рдореЗрдВ рдорджрдж рдХрд░ рд╕рдХрддрд╛ рд╣реВрдБ?"
      buttons:
        - title: "ЁЯУж рд╢рд┐рдкрдореЗрдВрдЯ рдЯреНрд░реИрдХ рдХрд░реЗрдВ"
          payload: /track_shipment
        - title: "ЁЯЪЪ рдбрд┐рд▓реАрд╡рд░реА рдореЗрдВ рджреЗрд░реА рд░рд┐рдкреЛрд░реНрдЯ рдХрд░реЗрдВ"
          payload: /delivery_delay_issue
        - title: "ЁЯОБ рдСрдлрд╝рд░ рджреЗрдЦреЗрдВ"
          payload: /show_offers   
        - title: "тЭМ рд╢рд┐рдкрдореЗрдВрдЯ рд░рджреНрдж рдХрд░реЗрдВ"
          payload: /cancel_shipment  
        - title: "рдирд╣реАрдВ, рдореБрдЭреЗ рдареАрдХ рд╣реИ"
          payload: /end_conversation
  utter_ask_rating:
    - condition:
        - type: slot
          name: language1
          value: english
      text: "Please rate your experience:"
      buttons:
        - title: "ЁЯМЯ 1"
          payload: '/rate_experience{"rating_value": "1"}'
        - title: "ЁЯМЯ 2"
          payload: '/rate_experience{"rating_value": "2"}'
        - title: "ЁЯМЯ 3"
          payload: '/rate_experience{"rating_value": "3"}'
        - title: "ЁЯМЯ 4"
          payload: '/rate_experience{"rating_value": "4"}'
        - title: "ЁЯМЯ 5"
          payload: '/rate_experience{"rating_value": "5"}'
    - condition:
        - type: slot
          name: language1
          value: hindi
      text: "рдХреГрдкрдпрд╛ рдЕрдкрдиреЗ рдЕрдиреБрднрд╡ рдХреЛ рд░реЗрдЯ рдХрд░реЗрдВ:"
      buttons:
        - title: "ЁЯМЯ рез"
          payload: '/rate_experience{"rating_value": "1"}'
        - title: "ЁЯМЯ реи"
          payload: '/rate_experience{"rating_value": "2"}'
        - title: "ЁЯМЯ рей"
          payload: '/rate_experience{"rating_value": "3"}'
        - title: "ЁЯМЯ рек"
          payload: '/rate_experience{"rating_value": "4"}'
        - title: "ЁЯМЯ рел"
          payload: '/rate_experience{"rating_value": "5"}'
  utter_goodbye:
    - text: "Thank you for using our service. We appreciate your feedback. Have a great day! ЁЯСЛ"
  # utter_ask_actor:
  #   - text: "Any actor you'd like to see in the movie?"

  # utter_iamabot:
  #   - text: "I'm a Rasa-powered assistant, here to help!"
  utter_ask_awb_no.:
    - condition:
        - type: slot
          name: language1
          value: english
      text: "ЁЯУж Please enter your 7-digit AWB number:"

    - condition:
        - type: slot
          name: language1
          value: hindi
      text: "ЁЯУж рдХреГрдкрдпрд╛ рдЕрдкрдирд╛ рен рдЕрдВрдХреЛрдВ рд╡рд╛рд▓рд╛ рдПрдбрдмреНрд▓реНрдпреВрдмреА рд╕рдВрдЦреНрдпрд╛ рджрд░реНрдЬ рдХрд░реЗрдВ:"
  
  utter_ask_awb_no._hi:
    - text: "ЁЯУж рдХреГрдкрдпрд╛ рдЕрдкрдирд╛ рен рдЕрдВрдХреЛрдВ рд╡рд╛рд▓рд╛ рдПрдбрдмреНрд▓реНрдпреВрдмреА рд╕рдВрдЦреНрдпрд╛ рджрд░реНрдЬ рдХрд░реЗрдВ:"

  # utter_ask_city:
  #   - text: "Which city's weather would you like to check?"  

actions:
  - action_track_shipment
  - action_check_delay
  - validate_awb_form
  - action_store_rating
  - action_show_offers
  - action_summarize_sentiment
  - action_detect_language
  - action_cancel_shipment
  - action_ask_awb_no
  # - action_handle_rating
  # - action_recommend_movie
  # - action_get_weather
  # - action_provide_date
  # - action_provide_time
  # - action_llama_response

# session_config:
#    session_expiration_time: 60
#    carry_over_slots_to_new_session: true 